import { hydrateBucketsWithTasks } from "@/lib/utils";
import type { Bucket, Task } from "@/types/task";

const USER_ID = "user-1"; // Mock user ID

export const mockTasks: Task[] = [
  {
    id: "1",
    title: "Complete wireframe design for pipeline view",
    description: "Create Notion-style table layout with multiple columns",
    status: "in-progress",
    priority: "urgent",
    dueDate: new Date(),
    tags: ["design", "frontend"],
    bucketId: "one-thing",
    orderInBucket: 0,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "2",
    title: "Fix authentication bug in production",
    description: "Users unable to log in with Google OAuth",
    status: "blocked",
    priority: "urgent",
    dueDate: new Date(Date.now() - 2 * 60 * 60 * 1000),
    tags: ["bug", "backend"],
    bucketId: "time-sensitive",
    orderInBucket: 0,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "3",
    title: "Review pull request from team",
    description: "Feature: Add dark mode toggle to settings",
    status: "not-started",
    priority: "high",
    dueDate: new Date(),
    tags: ["review"],
    bucketId: "time-sensitive",
    orderInBucket: 1,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "4",
    title: "Client presentation preparation",
    description: "Q4 roadmap and feature demos",
    status: "in-progress",
    priority: "high",
    dueDate: new Date(Date.now() + 24 * 60 * 60 * 1000),
    tags: ["client", "presentation"],
    bucketId: "time-sensitive",
    orderInBucket: 2,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "5",
    title: "Research table component libraries",
    description: "Compare TanStack Table, react-table, AG Grid",
    status: "not-started",
    priority: "medium",
    dueDate: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000),
    tags: ["research", "technical"],
    bucketId: "important",
    orderInBucket: 0,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "6",
    title: "Implement bucket customization feature",
    description: "Allow users to add, remove, reorder buckets",
    status: "in-progress",
    priority: "high",
    dueDate: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000),
    tags: ["feature", "backend"],
    bucketId: "important",
    orderInBucket: 1,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "7",
    title: "Design session notes interface",
    description: "Markdown support, quick add with CMD+K",
    status: "not-started",
    priority: "medium",
    dueDate: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000),
    tags: ["design", "feature"],
    bucketId: "important",
    orderInBucket: 2,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "8",
    title: "Plan next sprint goals",
    description: "Q4 roadmap prioritization",
    status: "not-started",
    priority: "medium",
    dueDate: new Date(Date.now() + 9 * 24 * 60 * 60 * 1000),
    tags: ["planning"],
    bucketId: "important",
    orderInBucket: 3,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "9",
    title: "Update project documentation",
    description: "API docs and user guides",
    status: "not-started",
    priority: "low",
    tags: ["documentation"],
    bucketId: "when-available",
    orderInBucket: 0,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "10",
    title: "Read about task management psychology",
    description: "The ONE Thing, Deep Work, Getting Things Done",
    status: "not-started",
    priority: "low",
    tags: ["learning", "personal"],
    bucketId: "when-available",
    orderInBucket: 1,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  // Completed tasks for testing
  {
    id: "11",
    title: "Set up CI/CD pipeline",
    description:
      "Configure GitHub Actions for automated testing and deployment",
    status: "completed",
    priority: "high",
    tags: ["devops", "automation"],
    bucketId: "important",
    orderInBucket: 4,
    userId: USER_ID,
    createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000),
    updatedAt: new Date(),
    completedAt: new Date(), // Today - a few hours ago
  },
  {
    id: "12",
    title: "Write unit tests for API endpoints",
    description: "Achieve 80% code coverage for backend services",
    status: "completed",
    priority: "high",
    tags: ["testing", "backend"],
    bucketId: "important",
    orderInBucket: 5,
    userId: USER_ID,
    createdAt: new Date(Date.now() - 3 * 60 * 60 * 1000),
    updatedAt: new Date(),
    completedAt: new Date(Date.now() - 2 * 60 * 60 * 1000), // Today - 2 hours ago
  },
  {
    id: "13",
    title: "Update dependencies to latest versions",
    description: "Security patches and performance improvements",
    status: "completed",
    priority: "medium",
    tags: ["maintenance"],
    bucketId: "when-available",
    orderInBucket: 2,
    userId: USER_ID,
    createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000),
    updatedAt: new Date(),
    completedAt: new Date(Date.now() - 24 * 60 * 60 * 1000), // Yesterday
  },
  {
    id: "14",
    title: "Conduct user interviews for new features",
    description: "Gather feedback from 5 key users",
    status: "completed",
    priority: "high",
    tags: ["research", "user-experience"],
    bucketId: "time-sensitive",
    orderInBucket: 3,
    userId: USER_ID,
    createdAt: new Date(Date.now() - 26 * 60 * 60 * 1000),
    updatedAt: new Date(),
    completedAt: new Date(Date.now() - 25 * 60 * 60 * 1000), // Yesterday
  },
  {
    id: "15",
    title: "Optimize database queries",
    description: "Reduce API response time by 40%",
    status: "completed",
    priority: "high",
    tags: ["performance", "backend"],
    bucketId: "important",
    orderInBucket: 6,
    userId: USER_ID,
    createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(),
    completedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000), // 3 days ago (This Week)
  },
  {
    id: "16",
    title: "Implement password reset flow",
    description: "Email-based password recovery with secure tokens",
    status: "completed",
    priority: "urgent",
    tags: ["security", "feature"],
    bucketId: "time-sensitive",
    orderInBucket: 4,
    userId: USER_ID,
    createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(),
    completedAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000), // 5 days ago (This Week)
  },
  {
    id: "17",
    title: "Design new landing page mockups",
    description: "Refresh branding with modern aesthetic",
    status: "completed",
    priority: "medium",
    tags: ["design", "marketing"],
    bucketId: "important",
    orderInBucket: 7,
    userId: USER_ID,
    createdAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(),
    completedAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000), // 10 days ago (Older)
  },
  {
    id: "18",
    title: "Migrate to TypeScript",
    description: "Convert entire codebase from JavaScript to TypeScript",
    status: "completed",
    priority: "high",
    tags: ["refactor", "technical"],
    bucketId: "important",
    orderInBucket: 8,
    userId: USER_ID,
    createdAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(),
    completedAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000), // 15 days ago (Older)
  },
];

export const mockBuckets: Bucket[] = [
  {
    id: "one-thing",
    name: "The ONE Thing",
    limit: 1,
    order: 0,
    tasks: [], // Will be populated by hydration
    collapsed: false,
    isOneThing: true,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "time-sensitive",
    name: "Time-Sensitive",
    limit: 3,
    order: 1,
    tasks: [],
    collapsed: false,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "important",
    name: "Important",
    limit: 5,
    order: 2,
    tasks: [],
    collapsed: false,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "when-available",
    name: "When Available",
    order: 3,
    tasks: [],
    collapsed: false,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: "someday",
    name: "Someday/Maybe",
    order: 4,
    tasks: [],
    collapsed: true,
    userId: USER_ID,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
];

export const mockBucketsWithTasks = hydrateBucketsWithTasks(
  mockBuckets,
  mockTasks
);
